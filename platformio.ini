; PlatformIO Project Configuration File for M5Stack Tab5 VNC Client
;
; M5Stack Tab5 Specifications:
;   - Main MCU: ESP32-P4 (RISC-V Dual-core 400MHz)
;   - Wireless: ESP32-C6 (Wi-Fi 6)
;   - Display: 5" IPS TFT 1280x720 (MIPI-DSI, ST7123)
;   - Touch: GT911 multi-touch controller
;   - Flash: 16MB, PSRAM: 32MB
;
; This configuration uses pioarduino platform for ESP32-P4 support

[env:m5stack_tab5]
platform = https://github.com/pioarduino/platform-espressif32.git#54.03.21-2
framework = arduino
board = esp32-p4-evboard
board_build.mcu = esp32p4
board_build.flash_mode = qio
board_build.f_flash = 80000000L

; Upload and Monitor settings
upload_speed = 1500000
monitor_speed = 115200

; Build type (debug for development, release for production)
build_type = debug

; Build flags
build_flags = 
    -DBOARD_HAS_PSRAM
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1
    -DARDUINO_LOOP_STACK_SIZE=16384
    ; VNC configuration - use user setup to override defaults
    -DVNC_USER_SETUP_LOADED
    -DUSE_ARDUINO_TCP
    -DVNC_FRAMEBUFFER
;    -DVNC_ZRLE
;    -DVNC_ZLIB
;    -DVNC_RRE
;    -DVNC_CORRE
;    -DVNC_HEXTILE

; Library dependencies
lib_deps = 
    ; M5Stack libraries for Tab5 support
    M5Unified
    ; ArduinoVNC library
;    https://github.com/Links2004/arduinoVNC.git

; Partition table for large applications
board_build.partitions = default_16MB.csv

; Extra scripts (optional)
; extra_scripts = pre:scripts/pre_build.py
